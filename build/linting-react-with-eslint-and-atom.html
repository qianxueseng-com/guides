<html lang="zh">
  <head>
    <meta charset="utf-8">

    <title>Qianxueseng front end guides</title>
    <meta name="description" content="Qianxueseng front end guides">
    <meta name="author" content="Qianxueseng">

    <link href="//static.qianxueseng.com/prism/prism.css?v=20151227" rel="stylesheet">
  </head>

  <body>
    # linting React with ESLint and Atom

## 为什么要linting?因为可以减少错误。
### 一段质量不高的代码
<code>AppView = {

};

module.exports = AppView;</code>
### 没用linting
<img src="https://cloud.githubusercontent.com/assets/806173/12012481/3fe866f0-acab-11e5-9ced-90eb6f722261.png" alt="linting_js_before">

## 如何一步一步的在Atom上配置好ESLint
### 1. 在Atom编辑器里面，先装两个基本的Atom插件:
- <a href="https://atom.io/packages/linter">https://atom.io/packages/linter</a>
- <a href="https://github.com/AtomLinter/linter-eslint">https://github.com/AtomLinter/linter-eslint</a>

### 2.用npm来安装eslint
<code>npm install eslint --save-dev</code>

### 3.在根目录下创建eslint的配置文件
<code>./node_modules/.bin/eslint --init
# 选择Use a popular style guide
# 再选择Google
# 再选择JavaScript
# 现在有一个新的文件.eslintrc.js已经创建完毕了</code>

### 用了linting，再回头看我们开始的那段质量不高的代码：
<img src="https://cloud.githubusercontent.com/assets/806173/12012480/3fd509f2-acab-11e5-82c4-d048a5af701c.png" alt="linting_js_after">

## 以下部分仅为支持React/JSX
### 一段质量不高的React代码
<code>var React = require(&#39;react&#39;);

var AppView = React.createClass({
  render: function() {
    return (&lt;div&gt;test div&lt;/div&gt;)
  },
  getInitialState: function() {
    return {};
  }
});

module.exports = AppView;</code>

### 不用linting时的质量不高的React代码
<img src="https://cloud.githubusercontent.com/assets/806173/12012482/3ff582ae-acab-11e5-8fb0-8a4bfd611c7b.png" alt="linting_jsx_after">

### 4. 为了支持React/JSX，还需要一个<a href="https://github.com/yannickcr/eslint-plugin-react">ESLint的React插件</a>:
<code>npm install eslint-plugin-react --save-dev</code>

### 5. 配置ESLint的React插件，.eslintrc.js的全文如下：
<code>module.exports = {
  extends: &#39;google&#39;,
  plugins: [
    &#39;react&#39;
  ],
  ecmaFeatures: {
    jsx: true
  },
  rules: {
    &#39;react/display-name&#39;: 1,
    &#39;react/sort-comp&#39;: 1
  }
};</code>

### 用了linting，再回头看的那段质量不高的React代码：
<img src="https://cloud.githubusercontent.com/assets/806173/12012497/d3f10b12-acac-11e5-8f24-74436accc7f0.png" alt="linting_jsx_after_react_support">
    <script src="//static.qianxueseng.com/prism/prism.js?v=20151227"></script>
  </body>
</html>
